<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8"/>
    <title>Canvas tutorial</title>
    <style type="text/css">
      * { margin:0; padding:0; }
      html, body { width:100%; height:100%; }
      canvas { display: block; }
    </style>
  </head>
  <body onload="draw();">
    <main id="main">
      <canvas id="table" width="150" height="150"></canvas>
    </main>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/js/bootstrap.min.js" integrity="sha384-a5N7Y/aK3qNeh15eJKGWxsqtnX/wWdSZSKp+81YjTmS15nvnvxKHuzaWwXHDli+4" crossorigin="anonymous"></script>
    <script type="text/javascript">
      $(window).resize(function() {
        draw();
      })

      function draw() {
        var canvasDiv = $('#table');
        var canvas = document.getElementById('table');

        var width = window.innerWidth;
        var height = window.innerHeight;
        canvasDiv.attr('width', width);
        canvasDiv.attr('height', height);
        console.log("draw for width " + width + " height " + height);
        if (canvas.getContext) {
          console.log("context foud");
          var ctx = canvas.getContext('2d');

          // Draw background
          var background = new Image();
          background.onload = function() {
            var pattern = ctx.createPattern(background, 'repeat');

            ctx.rect(0,0, canvas.width, canvas.height);
            ctx.fillStyle = pattern;
            ctx.fill();

            // Draw Logo
            ctx.font = "48px serif";
            ctx.fillStyle = 'rgb(255, 255, 255)';
            ctx.textAlign = "center";
            ctx.fillText('Epeirevine Krytienne', canvas.width / 2, canvas.height / 2);

            // Draw dealer slot
          }
          background.src = '../public/src/img/green_mat_texture.jpg';

        }
      }
    </script>
  </body>
</html>
